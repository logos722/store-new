# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã ISR –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

–ù–∞ –ø—Ä–æ–¥–µ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ö–∞—Ç–∞–ª–æ–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã", —Ö–æ—Ç—è –ª–æ–∫–∞–ª—å–Ω–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

## üéØ –ü—Ä–∏—á–∏–Ω–∞

–í–æ –≤—Ä–µ–º—è Docker –±–∏–ª–¥–∞ Next.js –ø—ã—Ç–∞–µ—Ç—Å—è pre-render —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å ISR, –Ω–æ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:

```
Error: connect ECONNREFUSED ::1:5000
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ `showcases = []` ‚Üí –∫—ç—à–∏—Ä—É–µ—Ç—Å—è ‚Üí –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ –ø—Ä–æ–¥.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ (–ø—Ä–∏–º–µ–Ω–µ–Ω–æ)

–í `src/app/page.tsx` –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç—Ä–æ–∫–∏:

```typescript
export const dynamic = 'force-dynamic';
export const revalidate = 3600; // Revalidate –∫–∞–∂–¥—ã–π —á–∞—Å
```

### –ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç?

- ‚ùå **–û—Ç–∫–ª—é—á–∞–µ—Ç** pre-rendering –≤–æ –≤—Ä–µ–º—è –±–∏–ª–¥–∞
- ‚úÖ **–í–∫–ª—é—á–∞–µ—Ç** –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç** ISR –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 1 —á–∞—Å
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç** –ø—Ä–æ–±–ª–µ–º—É —Å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º API

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

**–î–æ:**
```
–ë–∏–ª–¥ ‚Üí ECONNREFUSED ‚Üí showcases = [] ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞ –ø—Ä–æ–¥–µ
```

**–ü–æ—Å–ª–µ:**
```
–ë–∏–ª–¥ ‚Üí ‚úÖ —É—Å–ø–µ—à–Ω–æ (–±–µ–∑ pre-render)
–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–æ–¥–µ ‚Üí —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ ‚Üí –∫—ç—à –Ω–∞ 1 —á–∞—Å
```

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `fetchCatalogShowcases.ts`**
   - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± URL –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

2. **–£–ª—É—á—à–µ–Ω–Ω—ã–π `getApiUrl.ts`**
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ API URL –≤ development —Ä–µ–∂–∏–º–µ

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è —É–±–µ–¥–∏—Ç–µ—Å—å:

```bash
# 1. –ë–∏–ª–¥ –ø—Ä–æ—à–µ–ª –±–µ–∑ –æ—à–∏–±–æ–∫ ECONNREFUSED
docker build -t app .

# 2. –ù–∞ –ø—Ä–æ–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞—Ç–∞–ª–æ–≥–∏
curl https://your-domain.com/ | grep "–ù–∞—à–∏ –∫–∞—Ç–∞–ª–æ–≥–∏"

# 3. –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –æ—à–∏–±–æ–∫ API
docker logs <container> 2>&1 | grep ERROR
```

## üìù –í–∞–∂–Ω–æ

- ‚úÖ SEO –Ω–µ —Å—Ç—Ä–∞–¥–∞–µ—Ç (SSR –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ ISR –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ (revalidate: 3600)
- ‚úÖ –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∑–∞—Ç–µ–º –∫—ç—à–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Docker/CI/CD –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

## üîó –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [ISR_BUILD_FIX.md](./ISR_BUILD_FIX.md) –¥–ª—è:
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Docker –æ–∫—Ä—É–∂–µ–Ω–∏—è
- FAQ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–î–∞—Ç–∞:** 2025-11-18

